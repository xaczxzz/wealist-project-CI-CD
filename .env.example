# ====================================
# 1. 인프라 서비스 환경 변수 (DB, Redis)
#    - 모든 서비스가 공통으로 사용하며, 인프라 컨테이너 구동에 필요
# ====================================
# PostgreSQL Superuser 설정 (Multi-database 관리)
POSTGRES_SUPERUSER=postgres
POSTGRES_SUPERUSER_PASSWORD=postgres_admin_pass

# User Service Database 설정
USER_DB_NAME=wealist_user_db
USER_DB_USER=wealist_user
USER_DB_PASSWORD=user_pass12345

# Board Service Database 설정 (구 Kanban)
BOARD_DB_NAME=wealist_board_db
BOARD_DB_USER=board_service
BOARD_DB_PASSWORD=board_pass12345

POSTGRES_PORT=5432       # 컨테이너 포트 (호스트에 노출할 포트는 docker-compose.yml에서 설정)

# Redis 설정
REDIS_PASSWORD=pass12345
REDIS_PORT=6379          # 컨테이너 포트 (호스트에 노출할 포트는 docker-compose.yml에서 설정)


# ====================================
# 2. 백엔드 서비스 환경 변수 (Board, User)
#    - 각 애플리케이션의 내부 로직 및 실행 환경에 필요
# ====================================
# -- Board Service (Go) --
BOARD_ENV=dev
BOARD_SERVER_PORT=8000
BOARD_HOST_PORT=8000                         # 호스트에 노출할 포트
BOARD_USE_AUTO_MIGRATE=true
BOARD_LOG_LEVEL=debug

# Board Service Redis
BOARD_REDIS_DB=1

# Board Service URLs (docker-compose에서 사용)
BOARD_DATABASE_URL=postgresql://${BOARD_DB_USER}:${BOARD_DB_PASSWORD}@postgres:5432/${BOARD_DB_NAME}?sslmode=disable
BOARD_REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379/${BOARD_REDIS_DB}

# Board Service가 User Service 호출할 때 사용
USER_SERVICE_URL=http://user-service:8080

# JWT Secret (User Service와 동일하게 설정)
SECRET_KEY=CHANGE_THIS_JWT_SECRET_KEY_AT_LEAST_64_BYTES_FOR_HS512_ALGORITHM

# -- User Service (Java/Spring Boot) --
APP_NAME=wealist-user-service-api
USER_HOST_PORT=8080                          # 호스트에 노출할 포트
USER_SERVICE_PORT=8080                       # 컨테이너 내부 포트

# JWT 토큰 설정 (User Service 메인, Board Service도 동일한 시크릿 사용)
JWT_SECRET=CHANGE_THIS_JWT_SECRET_KEY_AT_LEAST_64_BYTES_FOR_HS512_ALGORITHM
JWT_EXPIRATION_MS=604800000
JWT_ACCESS_MS=1800000

# JPA 설정 (User Service용)
JPA_DDL_AUTO=update
JPA_SHOW_SQL=true
JPA_FORMAT_SQL=true
JPA_DIALECT=org.hibernate.dialect.PostgreSQLDialect


# ====================================
# 3. Google OAuth2 설정 (User Service)
# ====================================
# Google Cloud Console에서 발급받은 값으로 변경하세요
# https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# OAuth2 리다이렉트 URL (프론트엔드 콜백 주소)
OAUTH2_REDIRECT_URL=http://localhost:3000/oauth/callback


# ====================================
# 4. 프론트엔드/기타 환경 변수
# ====================================
# CORS 설정 (Board/User 서비스에서 사용)
CORS_ORIGINS=http://localhost:3000,http://localhost:8000,http://localhost:8080

# Frontend (React) Service - API 경로 설정
REACT_APP_BOARD_API_URL=http://localhost:${BOARD_HOST_PORT:-8000}
REACT_APP_USER_API_URL=http://localhost:${USER_HOST_PORT:-8080}
