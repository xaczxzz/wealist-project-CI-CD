# ====================================
# 1. 인프라 서비스 환경 변수 (DB, Redis)
#    - 모든 서비스가 공통으로 사용하며, 인프라 컨테이너 구동에 필요
# ====================================
# PostgreSQL Superuser 설정 (Multi-database 관리)
POSTGRES_SUPERUSER=postgres
POSTGRES_SUPERUSER_PASSWORD=postgres_admin_pass

# User Service Database 설정
USER_DB_NAME=wealist_user_db
USER_DB_USER=user_service
USER_DB_PASSWORD=user_pass12345

# Kanban Service Database 설정
KANBAN_DB_NAME=wealist_kanban_db
KANBAN_DB_USER=kanban_service
KANBAN_DB_PASSWORD=kanban_pass12345

POSTGRES_PORT=5432       # 컨테이너 포트 (호스트에 노출할 포트는 docker-compose.yml에서 설정)

# Redis 설정
REDIS_PASSWORD=pass12345
REDIS_PORT=6379          # 컨테이너 포트 (호스트에 노출할 포트는 docker-compose.yml에서 설정)


# ====================================
# 2. 백엔드 서비스 환경 변수 (Kanban, User)
#    - 각 애플리케이션의 내부 로직 및 실행 환경에 필요
# ====================================
# -- Kanban Service (Python) --
ENV=development
DEBUG=True
SECRET_KEY=dev-secret-key-change-in-production # Kanban 서비스 JWT/세션 등에 사용
KANBAN_HOST_PORT=8000                        # 호스트에 노출할 포트 (docker-compose.yml에서 사용)

# -- User Service (Java/Spring Boot) --
APP_NAME=wealist-user-service-api
USER_HOST_PORT=8080                          # 호스트에 노출할 포트 (docker-compose.yml에서 사용)
# *컨테이너 내부 포트 (Actuator/Springdoc용)
# 이전 오류의 원인이었던 변수. 컨테이너 내부 포트(8080) 값으로 고정합니다.
USER_SERVICE_PORT=8080

# JWT 토큰 설정 (User 서비스에서 주로 사용)
JWT_SECRET=CHANGE_THIS_JWT_SECRET_KEY_AT_LEAST_64_BYTES_FOR_HS512_ALGORITHM
JWT_EXPIRATION_MS=604800000
JWT_ACCESS_MS=1800000

# JPA 설정 (User 서비스에서 주로 사용)
JPA_DDL_AUTO=update
JPA_SHOW_SQL=true
JPA_FORMAT_SQL=true
JPA_DIALECT=org.hibernate.dialect.PostgreSQLDialect


# ====================================
# 3. 프론트엔드/기타 환경 변수
# ====================================
# CORS 설정 (Kanban/User 서비스에서 사용할 수 있습니다.)
CORS_ORIGINS=http://localhost:3000,http://localhost:8000,http://localhost:8080

# Frontend (React) Service - API 경로 설정
# (Docker Compose에서 HOST_PORT 변수를 참조하여 설정)
REACT_APP_KANBAN_API_URL=http://localhost:${KANBAN_HOST_PORT:-8000}
REACT_APP_USER_API_URL=http://localhost:${USER_HOST_PORT:-8080}

# HOST, PORT 변수는 불필요하여 제거합니다. (각 서비스별 HOST_PORT로 대체됨)
# DB_HOST, DB_PORT 등 중복되는 DB 변수도 제거합니다.
