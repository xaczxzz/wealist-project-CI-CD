(self.webpackChunkgrafana_metricsdrilldown_app=self.webpackChunkgrafana_metricsdrilldown_app||[]).push([[494],{219:(e,t,n)=>{(()=>{"use strict";var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},a={};function r(e){let t=5381;for(let n=0;n<e.length;n++)t=(t<<5)+t+e.charCodeAt(n);return(t>>>0).toString(16)}t.r(a),t.d(a,{ASSISTANT_PLUGIN_ID:()=>B,ASSISTANT_PLUGIN_TITLE:()=>z,CALLBACK_EXTENSION_POINT:()=>R,ComponentNodeData:()=>x,DashboardNodeData:()=>A,DatasourceNodeData:()=>S,EntityNodeData:()=>C,FolderNodeData:()=>$,LabelNameNodeData:()=>L,LabelValueNodeData:()=>N,OpenAssistantButton:()=>vt,StructuredNodeData:()=>i,closeAssistant:()=>J,createAssistantContextItem:()=>I,getExposeAssistantFunctionsConfig:()=>D,isAssistantAvailable:()=>G,newFunctionNamespace:()=>F,openAssistant:()=>H,provideComponents:()=>E,providePageContext:()=>v,provideQuestions:()=>U,toggleAssistant:()=>K,useAssistant:()=>X,usePageComponents:()=>k,usePageContext:()=>b,useProvidePageContext:()=>g,useProvideQuestions:()=>P,useQuestions:()=>O});class s{constructor(e){this.params=e,this.text="",this.id=r(e.id),this.type=e.type}formatForLLM(e){var t,n;return{type:this.type,codeElementIds:e,data:{name:null!==(t=this.params.text)&&void 0!==t?t:"",text:null!==(n=this.params.text)&&void 0!==n?n:""}}}equals(e){return e instanceof s&&this.id===e.id&&this.type===e.type}}class i extends s{constructor(e){super({...e,id:r(JSON.stringify(e.data)),type:"structured"}),this.data=e.data}formatForLLM(e){return{type:this.type,codeElementIds:e,data:this.data}}}const o=n(8531),c=n(5959);var l=t.n(c);const u=[],d="grafana-assistant:page-context-sync",p="grafana-assistant:page-context-update",f="grafana-assistant:page-context-remove",m="grafana-assistant:location-changed";let h=!1;function v(e,t){const n={id:y(),urlPattern:e,context:[...t]};u.push(n),window.dispatchEvent(new CustomEvent(p,{detail:n})),window.dispatchEvent(new CustomEvent(d,{detail:{registry:u}}));const a=e=>{const t=u.findIndex(e=>e.id===n.id);-1!==t&&(u[t].context=[...e],window.dispatchEvent(new CustomEvent(p,{detail:u[t]})))};return a.unregister=()=>{const e=u.findIndex(e=>e.id===n.id);-1!==e&&(u.splice(e,1),window.dispatchEvent(new CustomEvent(f,{detail:{id:n.id}})))},a}function g(e,t=[]){const n=(0,c.useRef)(void 0),a=(0,c.useRef)(t);return a.current=t,(0,c.useEffect)(()=>(n.current=v(e,a.current),()=>{var e;null===(e=n.current)||void 0===e||e.unregister()}),[e]),(0,c.useEffect)(()=>{n.current&&n.current(t)},[t]),(0,c.useCallback)(e=>{var t;null===(t=n.current)||void 0===t||t.call(n,e)},[])}function b(e={allowQuestions:!1,allowComponents:!1}){const[t,n]=(0,c.useState)([]),a=(0,o.useLocationService)(),r=(0,c.useRef)("");(0,c.useEffect)(()=>{const e=()=>{const e=function(e,t){if(!e)return[];const n=[];for(const a of t)w(e,a.urlPattern)&&n.push(...a.context);return n}(a.getLocation().pathname,u);n(e)},t=()=>{e()},s=t=>{var n;const r=null===(n=t.detail)||void 0===n?void 0:n.pathname;r&&r===a.getLocation().pathname&&e()},i=a.getLocationObservable().subscribe(t=>{const n=t.pathname;n!==r.current&&(r.current=n,function(e){window.dispatchEvent(new CustomEvent(m,{detail:{pathname:e}}))}(n),e())});return e(),window.addEventListener(d,t),window.addEventListener(p,t),window.addEventListener(f,t),window.addEventListener(m,s),()=>{i.unsubscribe(),window.removeEventListener(d,t),window.removeEventListener(p,t),window.removeEventListener(f,t),window.removeEventListener(m,s)}},[a]);let s=t;return e.allowQuestions||(s=s.filter(e=>{var t;return"question"!==(null===(t=e.node.data)||void 0===t?void 0:t.type)})),e.allowComponents||(s=s.filter(e=>{var t;return"component"!==(null===(t=e.node.data)||void 0===t?void 0:t.type)})),s}function y(e="page-context"){return`${e}-${Date.now()}-${Math.random().toString(36).slice(2,11)}`}function w(e,t){if(t instanceof RegExp)return t.test(e);if("string"==typeof t){const n=t.replace(/\*\*/g,"\0DOUBLE_STAR\0").replace(/\*/g,"[^/]*").replace(/\u0000DOUBLE_STAR\u0000/g,".*").replace(/\?/g,".");return new RegExp(`^${n}$`).test(e)}return!1}h||(window.addEventListener(d,e=>{var t;const n=null===(t=e.detail)||void 0===t?void 0:t.registry;if(n){const e=new Set(u.map(e=>e.id)),t=n.filter(t=>!e.has(t.id));u.push(...t)}}),window.addEventListener(p,e=>{const t=e.detail;if(t){const e=u.findIndex(e=>e.id===t.id);-1!==e?u[e]=t:u.push(t)}}),window.addEventListener(f,e=>{var t;const n=null===(t=e.detail)||void 0===t?void 0:t.id;if(n){const e=u.findIndex(e=>e.id===n);-1!==e&&u.splice(e,1)}}),h=!0);class x extends s{constructor(e){const t=e.namespace||"components";super({...e,id:`${t}-${Object.keys(e.components).join("-")}`,type:"component"}),this.components=e.components,this.prompt=e.prompt,this.namespace=t}formatForLLM(e){return{type:this.type,codeElementIds:e,data:{name:`${this.namespace} components`,prompt:this.prompt,namespace:this.namespace}}}}function k(){const e=b({allowComponents:!0,allowQuestions:!1});return(0,c.useMemo)(()=>{const t={};return e.filter(e=>{var t;return null===(t=e.node.data)||void 0===t?void 0:t.components}).forEach(e=>{const n=e.node.data;if(null==n?void 0:n.components){const e=n.namespace||n.name||"components";Object.entries(n.components).forEach(([n,a])=>{t[`${e}_${n}`]=a})}}),t},[e])}function E(e,t,n,a=/.*/){return v(a,[I("component",{components:n,prompt:e,namespace:t})])}class A extends s{constructor(e){super({...e,id:e.dashboardUid,type:"dashboard"}),this.dashboardUid=e.dashboardUid,this.dashboardTitle=e.dashboardTitle,this.folderUid=e.folderUid,this.folderTitle=e.folderTitle,this.text=e.dashboardTitle}formatForLLM(e){return{type:this.type,codeElementIds:e,data:{name:this.dashboardTitle,dashboardUid:this.dashboardUid,dashboardTitle:this.dashboardTitle,folderUid:this.folderUid,folderTitle:this.folderTitle,text:this.text}}}}class $ extends s{constructor(e){super({...e,id:e.folderUid,type:"dashboard_folder"}),this.text="",this.folderUid=e.folderUid,this.folderTitle=e.folderTitle,this.text=e.folderTitle}formatForLLM(e){return{type:this.type,codeElementIds:e,data:{name:this.folderTitle,folderUid:this.folderUid,folderTitle:this.folderTitle,text:this.text}}}}class S extends s{constructor(e){super({...e,id:e.datasourceUid,type:"datasource"}),this.datasourceUid=e.datasourceUid,this.datasourceType=e.datasourceType,this.datasourceName=e.datasourceName,this.img=e.img,this.text=e.datasourceName}formatForLLM(e){return{type:this.type,codeElementIds:e,data:{name:this.datasourceName,uid:this.datasourceUid,type:this.datasourceType,text:this.text,img:this.img}}}}class C extends s{constructor(e){var t,n,a;super({id:`${e.type}-${e.name}-${[null===(t=e.scope)||void 0===t?void 0:t.env,null===(n=e.scope)||void 0===n?void 0:n.site,null===(a=e.scope)||void 0===a?void 0:a.namespace].filter(Boolean).join("-")}`,type:"entity",title:e.title,hidden:e.hidden,img:e.img,icon:e.icon,text:e.name}),this.entityType=e.type,this.name=e.name,this.scope=e.scope,this.properties=e.properties,this.text=e.name}formatForLLM(e){return{type:"entity",codeElementIds:e,data:{name:this.name,text:this.text,type:this.entityType,scope:this.scope,properties:this.properties}}}}class L extends s{constructor(e){super({...e,id:`${e.datasourceUid}-${e.labelName}`,type:"label_name"}),this.datasourceUid=e.datasourceUid,this.datasourceType=e.datasourceType,this.datasourceName=e.datasourceName,this.labelName=e.labelName,this.text=e.labelName,this.img=e.img}formatForLLM(e){return{type:this.type,codeElementIds:e,data:{name:this.labelName,datasourceUid:this.datasourceUid,datasourceType:this.datasourceType,datasourceName:this.datasourceName,labelName:this.labelName,img:this.img,text:this.text}}}}class N extends s{constructor(e){super({...e,id:`${e.datasourceUid}-${e.labelName}-${e.labelValue}`,type:"label_value"}),this.datasourceUid=e.datasourceUid,this.datasourceType=e.datasourceType,this.datasourceName=e.datasourceName,this.labelName=e.labelName,this.labelValue=e.labelValue,this.text=e.labelValue,this.img=e.img}formatForLLM(e){return{type:this.type,codeElementIds:e,data:{name:this.labelValue,datasourceUid:this.datasourceUid,datasourceType:this.datasourceType,datasourceName:this.datasourceName,labelName:this.labelName,labelValue:this.labelValue,text:this.text,img:this.img}}}}function _(e){var t,n,a,r,s;const i=(0,o.getDataSourceSrv)().getInstanceSettings(e);return{datasourceType:null!==(t=null==i?void 0:i.type)&&void 0!==t?t:"unknown",datasourceName:null!==(n=null==i?void 0:i.name)&&void 0!==n?n:e,img:null===(s=null===(r=null===(a=null==i?void 0:i.meta)||void 0===a?void 0:a.info)||void 0===r?void 0:r.logos)||void 0===s?void 0:s.small}}const T={datasource:"database",label_name:"database",label_value:"database",dashboard:"dashboard",dashboard_folder:"folder",unknown:"circle-mono",structured:"gf-grid",component:"gf-grid",entity:"asserts"};function I(e,t){var n,a,r;const o=function(e,t){switch(e){case"datasource":return new S({...t,..._(t.datasourceUid)});case"label_name":return new L({...t,..._(t.datasourceUid)});case"label_value":return new N({...t,..._(t.datasourceUid)});case"dashboard":return new A(t);case"dashboard_folder":return new $(t);case"structured":return new i(t);case"component":return new x({...t,hidden:!0});case"entity":return new C(t);case"unknown":return new s(t);default:return console.error(`Unknown context type: ${e}`),new s(t)}}(e,t),c=null!==(n=t.title)&&void 0!==n?n:function(e){var t;return e instanceof i?e.formatForLLM().data.name:null!==(t=e.text)&&void 0!==t?t:"Given Context"}(o),l=null!==(a=t.img)&&void 0!==a?a:function(e){if("img"in e)return e.img}(o);return{node:{id:o.id,name:c,img:l,icon:null!==(r=t.icon)&&void 0!==r?r:T[e],navigable:!1,selectable:!0,data:o},occurrences:[]}}function U(e,t){const n=y("question"),a=e=>e.map((e,t)=>({node:{id:`question-${n}-${t}`,name:e.prompt,navigable:!1,selectable:!0,icon:"question-circle",data:{type:"question",prompt:e.prompt,context:e.context||[]}},occurrences:[]})),r=v(e,a(t)),s=e=>{r(a(e))};return s.unregister=r.unregister,s}function P(e,t=[]){const n=(0,c.useMemo)(()=>y("question"),[]),a=e=>e.map((e,t)=>({node:{id:`question-${n}-${t}`,name:e.prompt,navigable:!1,selectable:!0,icon:"question-circle",data:{type:"question",prompt:e.prompt,context:e.context||[]}},occurrences:[]})),r=g(e,a(t));return e=>{r(a(e))}}function O(){const e=b({allowQuestions:!0,allowComponents:!1});return M(e)}const M=e=>e.filter(e=>{var t;return"question"===(null===(t=e.node.data)||void 0===t?void 0:t.type)}).map(e=>{var t,n;return{prompt:(null===(t=e.node.data)||void 0===t?void 0:t.prompt)||e.node.name,context:(null===(n=e.node.data)||void 0===n?void 0:n.context)||[]}}),R="grafana-assistant-app/callback/v0-alpha";function F(e,t){return{namespace:e,functions:t}}function D(e){return{title:"callback",targets:[R],fn:()=>e.map(e=>({namespace:e.namespace,functions:e.functions}))}}const j=n(1269),B="grafana-assistant-app",z="Grafana Assistant";function G(){return o.getObservablePluginLinks?(0,o.getObservablePluginLinks)({extensionPointId:"grafana/extension-sidebar/v0-alpha"}).pipe((0,j.map)(e=>e.some(e=>e.pluginId===B&&e.title===z))):(0,j.of)(!1)}const q=n(7781);class Q extends q.BusEventWithPayload{}Q.type="open-extension-sidebar";class V extends q.BusEventBase{}V.type="close-extension-sidebar";class W extends q.BusEventWithPayload{}function H(e){var t,n;(0,o.reportInteraction)("grafana_assistant_app_opened_sidebar",{from:e.origin,prompt:null!==(t=e.prompt)&&void 0!==t?t:""}),function(e,t,n){const a=new Q({pluginId:e,componentTitle:t,props:n});(0,o.getAppEvents)().publish(a)}(B,z,{initialPrompt:e.prompt,initialContext:e.context,initialAutoSend:null===(n=e.autoSend)||void 0===n||n,origin:e.origin})}function J(){!function(){const e=new V;(0,o.getAppEvents)().publish(e)}()}function K(e){var t,n;(0,o.reportInteraction)("grafana_assistant_app_toggled_sidebar",{from:e.origin,prompt:null!==(t=e.prompt)&&void 0!==t?t:""}),function(e,t,n){const a=new W({pluginId:e,componentTitle:t,props:n});(0,o.getAppEvents)().publish(a)}(B,z,{initialPrompt:e.prompt,initialContext:e.context,initialAutoSend:null===(n=e.autoSend)||void 0===n||n,origin:e.origin})}function X(){const[e,t]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{const e=G().subscribe(e=>t(e));return()=>{e.unsubscribe()}},[]),{isAvailable:e,openAssistant:e?H:void 0,closeAssistant:e?J:void 0,toggleAssistant:e?K:void 0}}W.type="toggle-extension-sidebar";const Z=n(2007);var Y=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),ee=Math.abs,te=String.fromCharCode,ne=Object.assign;function ae(e){return e.trim()}function re(e,t,n){return e.replace(t,n)}function se(e,t){return e.indexOf(t)}function ie(e,t){return 0|e.charCodeAt(t)}function oe(e,t,n){return e.slice(t,n)}function ce(e){return e.length}function le(e){return e.length}function ue(e,t){return t.push(e),e}var de=1,pe=1,fe=0,me=0,he=0,ve="";function ge(e,t,n,a,r,s,i){return{value:e,root:t,parent:n,type:a,props:r,children:s,line:de,column:pe,length:i,return:""}}function be(e,t){return ne(ge("",null,null,"",null,null,0),e,{length:-e.length},t)}function ye(){return he=me>0?ie(ve,--me):0,pe--,10===he&&(pe=1,de--),he}function we(){return he=me<fe?ie(ve,me++):0,pe++,10===he&&(pe=1,de++),he}function xe(){return ie(ve,me)}function ke(){return me}function Ee(e,t){return oe(ve,e,t)}function Ae(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $e(e){return de=pe=1,fe=ce(ve=e),me=0,[]}function Se(e){return ve="",e}function Ce(e){return ae(Ee(me-1,_e(91===e?e+2:40===e?e+1:e)))}function Le(e){for(;(he=xe())&&he<33;)we();return Ae(e)>2||Ae(he)>3?"":" "}function Ne(e,t){for(;--t&&we()&&!(he<48||he>102||he>57&&he<65||he>70&&he<97););return Ee(e,ke()+(t<6&&32==xe()&&32==we()))}function _e(e){for(;we();)switch(he){case e:return me;case 34:case 39:34!==e&&39!==e&&_e(he);break;case 40:41===e&&_e(e);break;case 92:we()}return me}function Te(e,t){for(;we()&&e+he!==57&&(e+he!==84||47!==xe()););return"/*"+Ee(t,me-1)+"*"+te(47===e?e:we())}function Ie(e){for(;!Ae(xe());)we();return Ee(e,me)}var Ue="-ms-",Pe="-moz-",Oe="-webkit-",Me="comm",Re="rule",Fe="decl",De="@keyframes";function je(e,t){for(var n="",a=le(e),r=0;r<a;r++)n+=t(e[r],r,e,t)||"";return n}function Be(e,t,n,a){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Fe:return e.return=e.return||e.value;case Me:return"";case De:return e.return=e.value+"{"+je(e.children,a)+"}";case Re:e.value=e.props.join(",")}return ce(n=je(e.children,a))?e.return=e.value+"{"+n+"}":""}function ze(e){return Se(Ge("",null,null,null,[""],e=$e(e),0,[0],e))}function Ge(e,t,n,a,r,s,i,o,c){for(var l=0,u=0,d=i,p=0,f=0,m=0,h=1,v=1,g=1,b=0,y="",w=r,x=s,k=a,E=y;v;)switch(m=b,b=we()){case 40:if(108!=m&&58==ie(E,d-1)){-1!=se(E+=re(Ce(b),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:E+=Ce(b);break;case 9:case 10:case 13:case 32:E+=Le(m);break;case 92:E+=Ne(ke()-1,7);continue;case 47:switch(xe()){case 42:case 47:ue(Qe(Te(we(),ke()),t,n),c);break;default:E+="/"}break;case 123*h:o[l++]=ce(E)*g;case 125*h:case 59:case 0:switch(b){case 0:case 125:v=0;case 59+u:-1==g&&(E=re(E,/\f/g,"")),f>0&&ce(E)-d&&ue(f>32?Ve(E+";",a,n,d-1):Ve(re(E," ","")+";",a,n,d-2),c);break;case 59:E+=";";default:if(ue(k=qe(E,t,n,l,u,r,o,y,w=[],x=[],d),s),123===b)if(0===u)Ge(E,t,k,k,w,s,d,o,x);else switch(99===p&&110===ie(E,3)?100:p){case 100:case 108:case 109:case 115:Ge(e,k,k,a&&ue(qe(e,k,k,0,0,r,o,y,r,w=[],d),x),r,x,d,o,a?w:x);break;default:Ge(E,k,k,k,[""],x,0,o,x)}}l=u=f=0,h=g=1,y=E="",d=i;break;case 58:d=1+ce(E),f=m;default:if(h<1)if(123==b)--h;else if(125==b&&0==h++&&125==ye())continue;switch(E+=te(b),b*h){case 38:g=u>0?1:(E+="\f",-1);break;case 44:o[l++]=(ce(E)-1)*g,g=1;break;case 64:45===xe()&&(E+=Ce(we())),p=xe(),u=d=ce(y=E+=Ie(ke())),b++;break;case 45:45===m&&2==ce(E)&&(h=0)}}return s}function qe(e,t,n,a,r,s,i,o,c,l,u){for(var d=r-1,p=0===r?s:[""],f=le(p),m=0,h=0,v=0;m<a;++m)for(var g=0,b=oe(e,d+1,d=ee(h=i[m])),y=e;g<f;++g)(y=ae(h>0?p[g]+" "+b:re(b,/&\f/g,p[g])))&&(c[v++]=y);return ge(e,t,n,0===r?Re:o,c,l,u)}function Qe(e,t,n){return ge(e,t,n,Me,te(he),oe(e,2,-2),0)}function Ve(e,t,n,a){return ge(e,t,n,Fe,oe(e,0,a),oe(e,a+1,-1),a)}var We=function(e,t,n){for(var a=0,r=0;a=r,r=xe(),38===a&&12===r&&(t[n]=1),!Ae(r);)we();return Ee(e,me)},He=new WeakMap,Je=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||He.get(n))&&!a){He.set(e,!0);for(var r=[],s=function(e,t){return Se(function(e,t){var n=-1,a=44;do{switch(Ae(a)){case 0:38===a&&12===xe()&&(t[n]=1),e[n]+=We(me-1,t,n);break;case 2:e[n]+=Ce(a);break;case 4:if(44===a){e[++n]=58===xe()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=te(a)}}while(a=we());return e}($e(e),t))}(t,r),i=n.props,o=0,c=0;o<s.length;o++)for(var l=0;l<i.length;l++,c++)e.props[c]=r[o]?s[o].replace(/&\f/g,i[l]):i[l]+" "+s[o]}}},Ke=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Xe(e,t){switch(function(e,t){return 45^ie(e,0)?(((t<<2^ie(e,0))<<2^ie(e,1))<<2^ie(e,2))<<2^ie(e,3):0}(e,t)){case 5103:return Oe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Oe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Oe+e+Pe+e+Ue+e+e;case 6828:case 4268:return Oe+e+Ue+e+e;case 6165:return Oe+e+Ue+"flex-"+e+e;case 5187:return Oe+e+re(e,/(\w+).+(:[^]+)/,Oe+"box-$1$2"+Ue+"flex-$1$2")+e;case 5443:return Oe+e+Ue+"flex-item-"+re(e,/flex-|-self/,"")+e;case 4675:return Oe+e+Ue+"flex-line-pack"+re(e,/align-content|flex-|-self/,"")+e;case 5548:return Oe+e+Ue+re(e,"shrink","negative")+e;case 5292:return Oe+e+Ue+re(e,"basis","preferred-size")+e;case 6060:return Oe+"box-"+re(e,"-grow","")+Oe+e+Ue+re(e,"grow","positive")+e;case 4554:return Oe+re(e,/([^-])(transform)/g,"$1"+Oe+"$2")+e;case 6187:return re(re(re(e,/(zoom-|grab)/,Oe+"$1"),/(image-set)/,Oe+"$1"),e,"")+e;case 5495:case 3959:return re(e,/(image-set\([^]*)/,Oe+"$1$`$1");case 4968:return re(re(e,/(.+:)(flex-)?(.*)/,Oe+"box-pack:$3"+Ue+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Oe+e+e;case 4095:case 3583:case 4068:case 2532:return re(e,/(.+)-inline(.+)/,Oe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ce(e)-1-t>6)switch(ie(e,t+1)){case 109:if(45!==ie(e,t+4))break;case 102:return re(e,/(.+:)(.+)-([^]+)/,"$1"+Oe+"$2-$3$1"+Pe+(108==ie(e,t+3)?"$3":"$2-$3"))+e;case 115:return~se(e,"stretch")?Xe(re(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==ie(e,t+1))break;case 6444:switch(ie(e,ce(e)-3-(~se(e,"!important")&&10))){case 107:return re(e,":",":"+Oe)+e;case 101:return re(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Oe+(45===ie(e,14)?"inline-":"")+"box$3$1"+Oe+"$2$3$1"+Ue+"$2box$3")+e}break;case 5936:switch(ie(e,t+11)){case 114:return Oe+e+Ue+re(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Oe+e+Ue+re(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Oe+e+Ue+re(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Oe+e+Ue+e+e}return e}var Ze=[function(e,t,n,a){if(e.length>-1&&!e.return)switch(e.type){case Fe:e.return=Xe(e.value,e.length);break;case De:return je([be(e,{value:re(e.value,"@","@"+Oe)})],a);case Re:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return je([be(e,{props:[re(t,/:(read-\w+)/,":-moz-$1")]})],a);case"::placeholder":return je([be(e,{props:[re(t,/:(plac\w+)/,":"+Oe+"input-$1")]}),be(e,{props:[re(t,/:(plac\w+)/,":-moz-$1")]}),be(e,{props:[re(t,/:(plac\w+)/,Ue+"input-$1")]})],a)}return""})}}],Ye={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var et=/[A-Z]|^ms/g,tt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,nt=function(e){return 45===e.charCodeAt(1)},at=function(e){return null!=e&&"boolean"!=typeof e},rt=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return nt(e)?e:e.replace(et,"-$&").toLowerCase()}),st=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(tt,function(e,t,n){return ot={name:t,styles:n,next:ot},t})}return 1===Ye[e]||nt(e)||"number"!=typeof t||0===t?t:t+"px"};function it(e,t,n){if(null==n)return"";var a=n;if(void 0!==a.__emotion_styles)return a;switch(typeof n){case"boolean":return"";case"object":var r=n;if(1===r.anim)return ot={name:r.name,styles:r.styles,next:ot},r.name;var s=n;if(void 0!==s.styles){var i=s.next;if(void 0!==i)for(;void 0!==i;)ot={name:i.name,styles:i.styles,next:ot},i=i.next;return s.styles+";"}return function(e,t,n){var a="";if(Array.isArray(n))for(var r=0;r<n.length;r++)a+=it(e,t,n[r])+";";else for(var s in n){var i=n[s];if("object"!=typeof i){var o=i;null!=t&&void 0!==t[o]?a+=s+"{"+t[o]+"}":at(o)&&(a+=rt(s)+":"+st(s,o)+";")}else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=t&&void 0!==t[i[0]]){var c=it(e,t,i);switch(s){case"animation":case"animationName":a+=rt(s)+":"+c+";";break;default:a+=s+"{"+c+"}"}}else for(var l=0;l<i.length;l++)at(i[l])&&(a+=rt(s)+":"+st(s,i[l])+";")}return a}(e,t,n);case"function":if(void 0!==e){var o=ot,c=n(e);return ot=o,it(e,t,c)}}var l=n;if(null==t)return l;var u=t[l];return void 0!==u?u:l}var ot,ct=/label:\s*([^\s;{]+)\s*(;|$)/g;function lt(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var a=!0,r="";ot=void 0;var s=e[0];null==s||void 0===s.raw?(a=!1,r+=it(n,t,s)):r+=s[0];for(var i=1;i<e.length;i++)r+=it(n,t,e[i]),a&&(r+=s[i]);ct.lastIndex=0;for(var o,c="";null!==(o=ct.exec(r));)c+="-"+o[1];var l=function(e){for(var t,n=0,a=0,r=e.length;r>=4;++a,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(a+2))<<16;case 2:n^=(255&e.charCodeAt(a+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(a)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(r)+c;return{name:l,styles:r,next:ot}}function ut(e,t,n){var a="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(a+=n+" ")}),a}function dt(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function pt(e,t,n){var a=[],r=ut(e,a,n);return a.length<2?n:r+t(a)}var ft=function e(t){for(var n="",a=0;a<t.length;a++){var r=t[a];if(null!=r){var s=void 0;switch(typeof r){case"boolean":break;case"object":if(Array.isArray(r))s=e(r);else for(var i in s="",r)r[i]&&i&&(s&&(s+=" "),s+=i);break;default:s=r}s&&(n&&(n+=" "),n+=s)}}return n},mt=function(){var e=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var a,r,s=e.stylisPlugins||Ze,i={},o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)i[t[n]]=!0;o.push(e)});var c,l,u,d,p=[Be,(d=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&d(e)})],f=(l=[Je,Ke].concat(s,p),u=le(l),function(e,t,n,a){for(var r="",s=0;s<u;s++)r+=l[s](e,t,n,a)||"";return r});r=function(e,t,n,a){c=n,je(ze(e?e+"{"+t.styles+"}":t.styles),f),a&&(m.inserted[t.name]=!0)};var m={key:t,sheet:new Y({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:r};return m.sheet.hydrate(o),m}({key:"css"});e.sheet.speedy=function(e){this.isSpeedy=e},e.compat=!0;var t=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var r=lt(n,e.registered,void 0);return function(e,t){!function(e,t){var n=e.key+"-"+t.name;void 0===e.registered[n]&&(e.registered[n]=t.styles)}(e,t);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+n:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}}(e,r),e.key+"-"+r.name};return{css:t,cx:function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return pt(e.registered,t,ft(a))},injectGlobal:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var r=lt(n,e.registered);dt(e,r)},keyframes:function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var r=lt(n,e.registered),s="animation-"+r.name;return dt(e,{name:r.name,styles:"@keyframes "+s+"{"+r.styles+"}"}),s},hydrate:function(t){t.forEach(function(t){e.inserted[t]=!0})},flush:function(){e.registered={},e.inserted={},e.sheet.flush()},sheet:e.sheet,cache:e,getRegisteredStyles:ut.bind(null,e.registered),merge:pt.bind(null,e.registered,t)}}(),ht=(mt.flush,mt.hydrate,mt.cx,mt.merge,mt.getRegisteredStyles,mt.injectGlobal,mt.keyframes,mt.css);function vt(e){const{isAvailable:t,openAssistant:n}=X();return t&&n?l().createElement(gt,{...e,openAssistant:n}):null}function gt({prompt:e,origin:t,context:n,autoSend:a=!0,title:r="Analyze with Assistant",size:s="sm",iconOnlyButton:i=!1,openAssistant:u}){const d=(0,Z.useStyles2)(bt);return(0,c.useEffect)(()=>{(0,o.reportInteraction)("grafana_assistant_app_open_sidebar_button_displayed",{from:t})},[t]),l().createElement(l().Fragment,null,i?l().createElement(Z.IconButton,{name:"ai-sparkle",onClick:()=>u({prompt:e,context:n,autoSend:a,origin:t}),variant:"secondary",size:s,"aria-label":r,className:d.icon,tooltip:r,"data-testid":"assistant-icon-button"}):l().createElement(Z.Button,{icon:"ai-sparkle",onClick:()=>u({prompt:e,context:n,autoSend:a,origin:t}),variant:"secondary",fill:"solid",size:s,title:r,"aria-label":r,className:d.button,"data-testid":"assistant-button"},r))}mt.sheet,mt.cache;const bt=e=>{const t=e.colors.secondary.main,n=e.colors.emphasize(t,.05),a=e.colors.background.canvas,r=e.shape.radius.default,s=`max(calc(${r} - 1px), 1px)`,i={content:'""',position:"absolute",inset:0,borderRadius:r,background:"linear-gradient(90deg, rgb(168, 85, 247), rgb(249, 115, 22))",zIndex:-2,pointerEvents:"none"},o=e=>({content:'""',position:"absolute",inset:"1px",borderRadius:s,background:`linear-gradient(${e}, ${e}), ${a}`,zIndex:-1,transition:"none",pointerEvents:"none"});return{button:ht({label:"assistant-button",position:"relative",isolation:"isolate",border:"none",transition:"none !important","&::before":i,"&::after":{...o(t),transition:"none"},"&:hover":{transition:"none !important"},"&:hover::after":{background:`linear-gradient(${n}, ${n}), ${a}`}}),icon:ht({label:"assistant-icon",position:"relative",isolation:"isolate",border:"none",background:"none",padding:e.spacing(.5),"&::before":{...i,transition:"background 0.1s ease"},"&:hover::after":{...o(t),background:`linear-gradient(${n}, ${n}), ${a}`}})}};e.exports=a})()},8494:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(128),r=n(5959),s=n.n(r),i=n(219);const o=(0,i.createAssistantContextItem)("structured",{hidden:!0,title:"Metrics Drilldown Features",data:{name:"Metrics Drilldown",description:"Queryless exploration tool for Prometheus-compatible metrics",features:{search:"Search metrics by name in the Quick Search input",filters:{labelFilters:"Apply label name and value filters in the Filters input",prefixFilters:"Filter by metric name prefix in the sidebar",suffixFilters:"Filter by metric name suffix in the sidebar",groupBy:"Group metrics by label using the Group by labels filter in sidebar"},sorting:"Sort by alphabetical, recently used, dashboard usage, or alerting rules",breakdown:"View metric labels in the Breakdown tab when a metric is selected",relatedMetrics:"Discover related metrics in the Related Metrics tab",relatedLogs:"Discover related logs in the Related Logs tab",sharing:"Use Copy URL button in panel menu to share metric views"},navigation:{metricsList:"Main view shows all available metrics",metricDetail:"Selecting a metric opens detailed view with tabs",tabs:["Breakdown","Related Metrics","Related Logs"]}}}),c=[{prompt:"How can I find a metric I'm interested in?",context:[o]},{prompt:"How can I see a metric's labels?",context:[o]},{prompt:"When I find a metric of interest, what can I do next?",context:[o]}];function l({trail:e}){return(0,i.useProvideQuestions)("/a/grafana-metricsdrilldown-app/drilldown*",c),s().createElement(a.UrlSyncContextProvider,{scene:e,createBrowserHistorySteps:!0,updateUrlOnInit:!0,namespace:e.state.urlNamespace},s().createElement(e.Component,{model:e}))}}}]);
//# sourceMappingURL=494.js.map?_cache=87200fcfe16289320336